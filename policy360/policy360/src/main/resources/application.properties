# src/main/resources/application.properties

# Application Configuration
spring.application.name=policy360
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# Database Configuration - MySQL
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/policy360?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:root}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration - MySQL
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true

# Mail Configuration - Use environment variables for security
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:sonuhits18@gmail.com}
spring.mail.password=${MAIL_PASSWORD:lzzq ydff mcel ylud}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# JWT Configuration
jwt.secret=${JWT_SECRET:mySecretKey12345678901234567890123456789012345678901234567890}
jwt.expiration=${JWT_EXPIRATION:86400}

# FIXED: Encryption Configuration - EXACTLY 16 bytes for AES-128
encryption.secret-key=${ENCRYPTION_KEY:MySecretKey12345}

# Scheduler Configuration
scheduler.claim-reminder.cron=${CLAIM_REMINDER_CRON:0 0 9 * * ?}
scheduler.claim-reminder.enabled=${CLAIM_REMINDER_ENABLED:true}

# FIXED: Logging Configuration - Match your actual package name
logging.level.com.example.policy360=${LOG_LEVEL:INFO}
logging.level.org.springframework.security=DEBUG
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Server Configuration
server.port=${SERVER_PORT:8080}
server.servlet.context-path=${CONTEXT_PATH:}

# Management Endpoints
#management.endpoints.web.exposure.include=health,info,metrics
#management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# Policy360 Scheduler Configuration
policy360.scheduler.enabled=${SCHEDULER_ENABLED:true}

# Business thresholds
policy360.scheduler.policy-expiration-reminder-days=${POLICY_EXPIRATION_DAYS:30}
policy360.scheduler.claim-reminder-days=${CLAIM_REMINDER_DAYS:7}
policy360.scheduler.archive-days=${ARCHIVE_DAYS:365}
policy360.scheduler.auto-expire-grace-days=${AUTO_EXPIRE_GRACE_DAYS:7}
policy360.scheduler.overdue-claim-days=${OVERDUE_CLAIM_DAYS:30}

# Cron expressions for scheduled jobs (using standard 6-field format)
policy360.scheduler.policy-expiration-cron=${POLICY_EXPIRATION_CRON:0 0 9 * * ?}
policy360.scheduler.policy-renewal-cron=${POLICY_RENEWAL_CRON:0 0 10 * * MON}
policy360.scheduler.expired-policies-cron=${EXPIRED_POLICIES_CRON:0 30 2 * * ?}
policy360.scheduler.claim-reminders-cron=${CLAIM_REMINDERS_CRON:0 0 11 * * TUE,THU}
policy360.scheduler.overdue-claims-cron=${OVERDUE_CLAIMS_CRON:0 0 14 * * FRI}
policy360.scheduler.auto-renewals-cron=${AUTO_RENEWALS_CRON:0 0 3 * * ?}
policy360.scheduler.archive-cron=${ARCHIVE_CRON:0 0 1 * * SUN}
policy360.scheduler.policy-reports-cron=${POLICY_REPORTS_CRON:0 0 23 * * ?}
policy360.scheduler.claim-reports-cron=${CLAIM_REPORTS_CRON:0 30 23 * * ?}
policy360.scheduler.health-check-cron=${HEALTH_CHECK_CRON:0 */5 * * * ?}
policy360.scheduler.system-reports-cron=${SYSTEM_REPORTS_CRON:0 45 23 * * ?}

# Spring Task Scheduler Configuration
spring.task.scheduling.pool.size=${SCHEDULER_POOL_SIZE:10}
spring.task.scheduling.shutdown.await-termination=${SCHEDULER_AWAIT_TERMINATION:true}
spring.task.scheduling.shutdown.await-termination-period=${SCHEDULER_TERMINATION_PERIOD:30s}

# Task Execution Configuration
spring.task.execution.pool.core-size=${TASK_EXECUTION_CORE_SIZE:8}
spring.task.execution.pool.max-size=${TASK_EXECUTION_MAX_SIZE:16}
spring.task.execution.pool.queue-capacity=${TASK_EXECUTION_QUEUE_CAPACITY:100}
spring.task.execution.pool.keep-alive=${TASK_EXECUTION_KEEP_ALIVE:60s}
spring.task.execution.thread-name-prefix=Policy360-Task-

# Policy360 Notification Configuration
policy360.notifications.batch-size=${NOTIFICATION_BATCH_SIZE:50}
policy360.notifications.retry-attempts=${NOTIFICATION_RETRY_ATTEMPTS:3}
policy360.notifications.retry-delay=${NOTIFICATION_RETRY_DELAY:2000}

# Spring Boot Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,scheduledtasks
management.endpoint.health.show-details=always
management.endpoints.web.base-path=/actuator
management.endpoint.health.enabled=true
management.health.defaults.enabled=true

# Enable all actuator endpoints (for development - restrict in production)
management.endpoints.enabled-by-default=true


# Application Information for /info endpoint
info.app.name=Policy360
info.app.description=Policy360 Insurance Management System with Role-Based Authentication
info.app.version=1.0.0
info.app.author=Policy360 Development Team
info.app.contact.email=support@policy360.com
info.app.build.date=2025-08-11
info.app.environment=${SPRING_PROFILES_ACTIVE:dev}

# System Information
info.java.vendor=${java.specification.vendor}
info.java.version=${java.version}

# Custom Business Information
info.features.authentication=JWT-based with role-based access control
info.features.roles=ADMIN, AGENT, CUSTOMER
info.features.database=MySQL with JPA/Hibernate
info.features.scheduler=Automated policy and claim processing
info.features.email=SMTP email notifications


# Data Masking Configuration
policy360.masking.enabled=${MASKING_ENABLED:true}
policy360.masking.email-enabled=${EMAIL_MASKING_ENABLED:true}
policy360.masking.phone-enabled=${PHONE_MASKING_ENABLED:true}
policy360.masking.financial-enabled=${FINANCIAL_MASKING_ENABLED:true}
policy360.masking.address-enabled=${ADDRESS_MASKING_ENABLED:true}
policy360.masking.policy-number-enabled=${POLICY_MASKING_ENABLED:false}
policy360.masking.claim-number-enabled=${CLAIM_MASKING_ENABLED:false}

# Role-based masking permissions
policy360.masking.admin-exempt=${ADMIN_EXEMPT:true}
policy360.masking.agent-financial-mask=${AGENT_FINANCIAL_MASK:true}
policy360.masking.customer-full-mask=${CUSTOMER_FULL_MASK:true}
